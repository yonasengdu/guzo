{% extends "dashboard_base.html" %}

{% block title %}Users - Admin - Guzo{% endblock %}

{% block dashboard_content %}
<!-- Header -->
<div class="mb-8">
    <h1 class="text-3xl font-semibold text-apple-gray-600">User Management</h1>
    <p class="text-apple-gray-400 mt-1">Manage all users on the platform</p>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-3 gap-4 mb-6">
    <div class="card-apple p-4">
        <span class="text-apple-gray-400 text-sm">Total Users</span>
        <p class="text-2xl font-bold text-apple-gray-600 mt-1">{{ counts.all }}</p>
    </div>
    <div class="card-apple p-4">
        <span class="text-apple-gray-400 text-sm">Drivers</span>
        <p class="text-2xl font-bold text-apple-blue mt-1">{{ counts.drivers }}</p>
    </div>
    <div class="card-apple p-4">
        <span class="text-apple-gray-400 text-sm">Riders</span>
        <p class="text-2xl font-bold text-apple-green mt-1">{{ counts.riders }}</p>
    </div>
</div>

<!-- Filter Tabs -->
<div class="card-apple p-4 mb-6">
    <div class="flex items-center gap-2">
        <button 
            class="px-4 py-2 rounded-xl text-sm font-medium transition-all {% if not role_filter %}bg-apple-blue text-white{% else %}bg-apple-gray-100 text-apple-gray-600 hover:bg-apple-gray-200{% endif %}"
            hx-get="/admin/users"
            hx-target="#users-content"
            hx-swap="innerHTML"
            hx-push-url="true"
        >All Users</button>
        <button 
            class="px-4 py-2 rounded-xl text-sm font-medium transition-all {% if role_filter == 'driver' %}bg-apple-blue text-white{% else %}bg-apple-gray-100 text-apple-gray-600 hover:bg-apple-gray-200{% endif %}"
            hx-get="/admin/users?role=driver"
            hx-target="#users-content"
            hx-swap="innerHTML"
            hx-push-url="true"
        >Drivers</button>
        <button 
            class="px-4 py-2 rounded-xl text-sm font-medium transition-all {% if role_filter == 'rider' %}bg-apple-blue text-white{% else %}bg-apple-gray-100 text-apple-gray-600 hover:bg-apple-gray-200{% endif %}"
            hx-get="/admin/users?role=rider"
            hx-target="#users-content"
            hx-swap="innerHTML"
            hx-push-url="true"
        >Riders</button>
    </div>
</div>

<!-- Users List -->
<div id="users-content">
    {% include "partials/admin_users_list.html" %}
</div>
{% endblock %}

